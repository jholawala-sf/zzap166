{"version":3,"file":"salesforce-retail-react-app-app-pages-home.js","mappings":"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","sources":["webpack://composable-storefront-toolkit/./app/components/page-designer/index.js","webpack://composable-storefront-toolkit/./overlays/page-designer-theme-home/app/pages/home/index.jsx","webpack://composable-storefront-toolkit/./node_modules/@chakra-ui/textarea/dist/chunk-4IH3O7BJ.mjs"],"sourcesContent":["import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {Heading, Text} from '@chakra-ui/react'\nimport {Textarea} from '@chakra-ui/react'\nimport {\n    PageDesignerContext,\n    PDErrorBoundary,\n    DebugContext\n} from '@salesforce/retail-react-app/app/components/page-designer/support'\nimport {\n    Hider,\n    PageDesignerRegions\n} from '@salesforce/retail-react-app/app/components/page-designer/tree'\nimport {Helmet} from 'react-helmet'\nimport {getConfig} from '@salesforce/pwa-kit-runtime/utils/ssr-config'\n\n/**\n * @typedef PDPage\n * @property {string} id\n * @property {object} data\n * @property {object} custom\n * @property {PDRegion[]} regions\n */\n\nfunction getConfigText(config) {\n    const _config = {\n        ...config,\n        app: {\n            ...config.app,\n            enablePWAKitPrivateClient: config.app.commerceAPI.parameters.__publicClientId\n                ? false\n                : true,\n            commerceAPI: {\n                ...config.app.commerceAPI,\n                parameters: {\n                    ...config.app.commerceAPI.parameters,\n                    // if we have a public client available show that instead of the private client as it's easier\n                    clientId:\n                        config.app.commerceAPI.parameters.__publicClientId ??\n                        config.app.commerceAPI.parameters.clientId\n                }\n            },\n            dataCloudAPI: {\n                appSourceId: '',\n                tenantId: ''\n            }\n        },\n        ssrParameters: {\n            ...config.ssrParameters,\n            // clean up some junk added by pwa-kit-runtime\n            proxyConfigs: config.ssrParameters.proxyConfigs.map((proxy) => {\n                delete proxy.proxyPath\n                delete proxy.cachingPath\n                return proxy\n            })\n        }\n    }\n    return `module.exports = ${JSON.stringify(_config, null, 2)}`\n}\n\n/**\n * Implements a PageDesigner page in react\n *\n * Will delegate the regions/components of the page to other components by identifier\n * composing similar to platform page designer\n * @param {PDPage} page - PageDesigner structure\n *\n * @constructor\n */\nexport default function PageDesignerPage({page}) {\n    const {debug} = useContext(DebugContext)\n    const {editMode} = useContext(PageDesignerContext)\n    const config = getConfig()\n    return (\n        <>\n            {debug && (\n                <>\n                    <Text size=\"h1\">PAGE: {page.id}</Text>\n                    <h2>PD Edit Mode: {editMode ? 'TRUE' : 'FALSE'}</h2>\n                </>\n            )}\n            {debug && (\n                <>\n                    <Hider data={Object.assign(page.data, page.custom)} />\n                </>\n            )}\n            {page.custom && page.custom.pageTitle && (\n                <Helmet>\n                    <title>{page.custom.pageTitle}</title>\n                </Helmet>\n            )}\n            <PDErrorBoundary type=\"page\">\n                <PageDesignerRegions regions={page.regions} />\n            </PDErrorBoundary>\n            {debug && config && config.app && (\n                <>\n                    <Heading as=\"h2\">App Configuration (copy to config/local.js)</Heading>\n                    <Textarea size=\"lg\">{getConfigText(config)}</Textarea>\n                </>\n            )}\n        </>\n    )\n}\nPageDesignerPage.propTypes = {\n    page: PropTypes.object,\n    debug: PropTypes.bool,\n    preview: PropTypes.bool,\n    editMode: PropTypes.bool\n}\n","/*\n * Copyright (c) 2022, Salesforce, Inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport React, {useEffect} from 'react'\nimport PropTypes from 'prop-types'\n\n// Components\nimport {Box} from '@chakra-ui/react'\n\n// Project Components\nimport Seo from '@salesforce/retail-react-app/app/components/seo'\nimport PageDesignerPage from '@salesforce/retail-react-app/app/components/page-designer'\n\n//Hooks\nimport useMultiSite from '@salesforce/retail-react-app/app/hooks/use-multi-site'\nimport useEinstein from '@salesforce/retail-react-app/app/hooks/use-einstein'\nimport {useLocation} from 'react-router-dom'\nimport {usePage} from '@salesforce/commerce-sdk-react'\n\n/**\n * This is the home page for Retail React App.\n * The page is created for demonstration purposes.\n * The page renders SEO metadata and a few promotion\n * categories and products, data is from local file.\n */\nconst Home = () => {\n    const {site} = useMultiSite()\n    const {data: page, isLoading} = usePage(\n        {parameters: {pageId: `pwa-homepage-${site.id}`}},\n        {\n            refetchOnMount: 'always'\n        }\n    )\n\n    const einstein = useEinstein()\n    const {pathname} = useLocation()\n\n    /**************** Einstein ****************/\n    useEffect(() => {\n        einstein.sendViewPage(pathname)\n    }, [])\n\n    return (\n        <Box data-testid=\"home-page\" layerStyle=\"page\">\n            <Seo\n                title=\"Home Page\"\n                description=\"Commerce Cloud Retail React App\"\n                keywords=\"Commerce Cloud, Retail React App, React Storefront\"\n            />\n\n            {!isLoading && page && <PageDesignerPage page={page} />}\n        </Box>\n    )\n}\n\nHome.getTemplateName = () => 'home'\n\nHome.propTypes = {\n    /**\n     * The search result object showing all the product hits, that belong\n     * in the supplied category.\n     */\n    productSearchResult: PropTypes.object,\n    page: PropTypes.object,\n    /**\n     * The current state of `getProps` when running this value is `true`, otherwise it's\n     * `false`. (Provided internally)\n     */\n    isLoading: PropTypes.bool\n}\n\nexport default Home\n","'use client'\n\n// src/textarea.tsx\nimport { useFormControl } from \"@chakra-ui/form-control\";\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\n\n// ../../utilities/object-utils/src/omit.ts\nfunction omit(object, keysToOmit = []) {\n  const clone = Object.assign({}, object);\n  for (const key of keysToOmit) {\n    if (key in clone) {\n      delete clone[key];\n    }\n  }\n  return clone;\n}\n\n// src/textarea.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar omitted = [\"h\", \"minH\", \"height\", \"minHeight\"];\nvar Textarea = forwardRef((props, ref) => {\n  const styles = useStyleConfig(\"Textarea\", props);\n  const { className, rows, ...rest } = omitThemingProps(props);\n  const textareaProps = useFormControl(rest);\n  const textareaStyles = rows ? omit(styles, omitted) : styles;\n  return /* @__PURE__ */ jsx(\n    chakra.textarea,\n    {\n      ref,\n      rows,\n      ...textareaProps,\n      className: cx(\"chakra-textarea\", className),\n      __css: textareaStyles\n    }\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport {\n  Textarea\n};\n//# sourceMappingURL=chunk-4IH3O7BJ.mjs.map"],"names":["React","useContext","PropTypes","Heading","Text","Textarea","PageDesignerContext","PDErrorBoundary","DebugContext","Hider","PageDesignerRegions","Helmet","getConfig","getConfigText","config","_config","_objectSpread","app","enablePWAKitPrivateClient","commerceAPI","parameters","__publicClientId","clientId","dataCloudAPI","appSourceId","tenantId","ssrParameters","proxyConfigs","map","proxy","proxyPath","cachingPath","JSON","stringify","PageDesignerPage","page","debug","editMode","createElement","Fragment","size","id","data","_extends","custom","pageTitle","type","regions","as","propTypes","object","bool","preview","useEffect","Box","Seo","useMultiSite","useEinstein","useLocation","usePage","Home","site","isLoading","pageId","refetchOnMount","einstein","pathname","sendViewPage","layerStyle","title","description","keywords","getTemplateName","productSearchResult"],"sourceRoot":""}